# CYCLE 02: UAT.md

## 1. Test Scenarios

This document outlines the User Acceptance Testing (UAT) scenarios for Cycle 02 of the Autonomous Development Environment (AC-CDD) project. The focus of this cycle is on the Architect agent and the `gen-cycles` command. The following scenarios are designed to verify that the architectural design phase functions as expected from a user's perspective.

| Scenario ID | Description                                                                 | Priority |
|-------------|-----------------------------------------------------------------------------|----------|
| UAT-004     | Successful generation of architectural documents from `ALL_SPEC.md`.         | High     |
| UAT-005     | Handling of a Git repository with uncommitted changes.                      | Medium   |
| UAT-006     | Verification of the content and structure of the generated documents.         | High     |

**UAT-004: Successful generation of architectural documents from `ALL_SPEC.md`.**
This scenario tests the primary functionality of the `gen-cycles` command. The test will verify that the command successfully invokes the Architect agent, which in turn reads the `ALL_SPEC.md` file, generates the required architectural documents, creates a new Git branch, and commits the generated files to it.

**UAT-005: Handling of a Git repository with uncommitted changes.**
This scenario is designed to test the system's robustness when the `gen-cycles` command is run in a "dirty" Git repository. The test will verify that the command detects the uncommitted changes and exits with a helpful error message, preventing the user from accidentally overwriting their work.

**UAT-006: Verification of the content and structure of the generated documents.**
This scenario focuses on the quality of the output produced by the Architect agent. The test will involve a manual review of the generated documents to ensure that they are well-structured, comprehensive, and accurately reflect the requirements laid out in `ALL_SPEC.md`. This is a critical step in ensuring that the AI-generated content meets the project's quality standards.

## 2. Behavior Definitions

The following behavior definitions are written in Gherkin-style (GIVEN/WHEN/THEN) to provide a clear and unambiguous description of the expected system behavior for each UAT scenario.

### UAT-004: Successful generation of architectural documents from `ALL_SPEC.md`

**GIVEN** a project directory that has been initialised with the `init` command.
**AND** the `dev_documents/ALL_SPEC.md` file contains a set of high-level requirements.
**AND** the Git repository has no uncommitted changes.
**WHEN** the user runs the `gen-cycles` command.
**THEN** the system should create a new Git branch named `design/architecture`.
**AND** the system should invoke the Architect agent with the content of `dev_documents/ALL_SPEC.md`.
**AND** the system should generate a `dev_documents/SYSTEM_ARCHITECTURE.md` file.
**AND** the system should generate `SPEC.md` and `UAT.md` files for each development cycle.
**AND** the system should commit all the generated files to the `design/architecture` branch.
**AND** the system should display a success message confirming that the architectural design is complete.

### UAT-005: Handling of a Git repository with uncommitted changes

**GIVEN** a project directory that has been initialised with the `init` command.
**AND** the Git repository has uncommitted changes.
**WHEN** the user runs the `gen-cycles` command.
**THEN** the system should detect the uncommitted changes.
**AND** the system should not create a new Git branch.
**AND** the system should not invoke the Architect agent.
**AND** the system should display an error message instructing the user to commit or stash their changes.
**AND** the system should exit without making any changes to the repository.

### UAT-006: Verification of the content and structure of the generated documents

**GIVEN** a set of architectural documents that have been generated by the `gen-cycles` command.
**WHEN** a human reviewer inspects the `dev_documents/SYSTEM_ARCHITECTURE.md` file.
**THEN** the file should contain all the required sections (Summary, System Design Objectives, etc.).
**AND** the content of each section should be well-written, coherent, and meet the minimum word count.
**AND** the Mermaid diagram in the System Architecture section should be syntactically correct and accurately represent the system's architecture.
**WHEN** the human reviewer inspects the `SPEC.md` and `UAT.md` files for each cycle.
**THEN** the files should be well-structured and contain all the required sections.
**AND** the content should be detailed, specific, and provide a clear plan for the implementation and testing of the cycle.
**AND** the Gherkin-style behavior definitions in the `UAT.md` files should be clear, unambiguous, and testable.
