============================= test session starts ==============================
platform linux -- Python 3.12.12, pytest-9.0.2, pluggy-1.6.0
rootdir: /app
configfile: pyproject.toml
testpaths: tests
plugins: langsmith-0.4.59, hypothesis-6.148.7, anyio-4.12.0, cov-7.0.0, logfire-4.16.0, asyncio-1.3.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 102 items

tests/ac_cdd/integration/test_audit_loop.py .                            [  0%]
tests/ac_cdd/integration/test_cli_commands.py ......                     [  6%]
tests/ac_cdd/integration/test_end_to_end_workflow.py ...                 [  9%]
tests/ac_cdd/integration/test_resume_flow.py ..                          [ 11%]
tests/ac_cdd/unit/test_audit_orchestrator.py ...                         [ 14%]
tests/ac_cdd/unit/test_auto_merge.py .....                               [ 19%]
tests/ac_cdd/unit/test_cli_reconstruction.py ...                         [ 22%]
tests/ac_cdd/unit/test_committee_logic.py ..                             [ 24%]
tests/ac_cdd/unit/test_config.py .....                                   [ 29%]
tests/ac_cdd/unit/test_file_patcher.py ...                               [ 32%]
tests/ac_cdd/unit/test_gen_cycles_options.py .........                   [ 41%]
tests/ac_cdd/unit/test_git_operations.py ...........                     [ 51%]
tests/ac_cdd/unit/test_git_state_persistence.py ....                     [ 55%]
tests/ac_cdd/unit/test_graph.py ....                                     [ 59%]
tests/ac_cdd/unit/test_jules_client.py ....                              [ 63%]
tests/ac_cdd/unit/test_jules_client_logic.py ..                          [ 65%]
tests/ac_cdd/unit/test_llm_reviewer.py ..                                [ 67%]
tests/ac_cdd/unit/test_plan_auditor.py ..                                [ 69%]
tests/ac_cdd/unit/test_project_manifest.py ...                           [ 72%]
tests/ac_cdd/unit/test_prompt_paths.py .                                 [ 73%]
tests/ac_cdd/unit/test_resume_logic.py ..                                [ 75%]
tests/ac_cdd/unit/test_sandbox.py .........                              [ 84%]
tests/ac_cdd/unit/test_session_manager.py ........                       [ 92%]
tests/ac_cdd/unit/test_session_resume.py ...                             [ 95%]
tests/ac_cdd/unit/test_validators.py .....                               [100%]

=============================== warnings summary ===============================
.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:323
  /app/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:323: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    warnings.warn(DEPRECATION_MESSAGE, DeprecationWarning)

.venv/lib/python3.12/site-packages/pydantic_ai/models/__init__.py:997: 2 warnings
tests/ac_cdd/integration/test_audit_loop.py: 1 warning
tests/ac_cdd/integration/test_resume_flow.py: 2 warnings
tests/ac_cdd/unit/test_committee_logic.py: 2 warnings
tests/ac_cdd/unit/test_gen_cycles_options.py: 7 warnings
tests/ac_cdd/unit/test_graph.py: 7 warnings
tests/ac_cdd/unit/test_jules_client.py: 4 warnings
tests/ac_cdd/unit/test_resume_logic.py: 2 warnings
  /app/.venv/lib/python3.12/site-packages/pydantic_ai/models/__init__.py:997: DeprecationWarning: Specifying a model name without a provider prefix is deprecated. Instead of 'claude-3-5-sonnet', use 'anthropic:claude-3-5-sonnet'.
    warnings.warn(

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================================ tests coverage ================================
_______________ coverage: platform linux, python 3.12.12-final-0 _______________

Name                                                 Stmts   Miss  Cover   Missing
----------------------------------------------------------------------------------
dev_src/__init__.py                                      0      0   100%
dev_src/ac_cdd_core/__init__.py                          0      0   100%
dev_src/ac_cdd_core/agents.py                           66     44    33%   16-19, 24-44, 49-72, 81-87, 94, 118, 138
dev_src/ac_cdd_core/cli.py                              76     15    80%   26-28, 34-35, 38-39, 58-64, 129, 178
dev_src/ac_cdd_core/config.py                          178     34    81%   25, 33, 176-177, 185-192, 198-205, 211, 217, 229-235, 245-249, 254, 258, 264, 268
dev_src/ac_cdd_core/contracts/__init__.py                0      0   100%
dev_src/ac_cdd_core/domain_models.py                    89      0   100%
dev_src/ac_cdd_core/error_messages.py                    7      7     0%   4-18
dev_src/ac_cdd_core/graph.py                            40      2    95%   30-31
dev_src/ac_cdd_core/graph_nodes.py                     189     40    79%   41-44, 93, 102-126, 148-150, 163-173, 203-206, 220-223, 281, 294-299, 376-377, 388, 392, 403
dev_src/ac_cdd_core/hash_utils.py                       25      4    84%   15-16, 28-29
dev_src/ac_cdd_core/interfaces.py                        5      0   100%
dev_src/ac_cdd_core/messages.py                         50     15    70%   16, 28, 39, 44, 49, 63, 72, 121, 131, 150-155
dev_src/ac_cdd_core/process_runner.py                   23      6    74%   41-43, 46-48
dev_src/ac_cdd_core/sandbox.py                         118     18    85%   22, 35-43, 104-105, 110-115, 118-119, 165
dev_src/ac_cdd_core/service_container.py                18      0   100%
dev_src/ac_cdd_core/services/__init__.py                 5      0   100%
dev_src/ac_cdd_core/services/artifacts.py               14      8    43%   17-28
dev_src/ac_cdd_core/services/audit_orchestrator.py      72      9    88%   68-69, 74-75, 119-120, 140-142
dev_src/ac_cdd_core/services/contracts.py               26     21    19%   16-43
dev_src/ac_cdd_core/services/file_ops.py               103     46    55%   77, 83, 100-111, 114-125, 128-133, 141-159
dev_src/ac_cdd_core/services/git_ops.py                275    129    53%   28-29, 37, 51-66, 73-82, 86-101, 104-107, 111, 115, 125-126, 144-152, 156-182, 186-191, 195-200, 204-222, 226-228, 232-236, 240-242, 246-247, 265-279, 302-304, 326-327, 341-342, 395-396, 426-427, 460-462, 475-480
dev_src/ac_cdd_core/services/jules_client.py           602    324    46%   16-17, 52-53, 56, 59, 67-80, 83-93, 99, 107-108, 111-112, 117-120, 123-132, 135-136, 139-143, 148-153, 157-160, 165, 168, 188-189, 205, 222-224, 229-234, 245-283, 286-311, 314-315, 324-336, 339-359, 363-375, 403-404, 408-409, 413, 421, 474-481, 488, 503-511, 517, 525-543, 549, 574-577, 580-581, 586-588, 628-652, 656-683, 694-732, 757, 762-766, 794-803, 805, 833-843, 846-847, 861-872, 885-886, 891, 894-899, 905, 910-911, 914, 926-931, 935-942, 948-961, 965-968
dev_src/ac_cdd_core/services/llm_reviewer.py            26      0   100%
dev_src/ac_cdd_core/services/plan_auditor.py            26      5    81%   14-16, 61, 109-110
dev_src/ac_cdd_core/services/project.py                 32     26    19%   17-40, 46-62
dev_src/ac_cdd_core/services/workflow.py               138     58    58%   47-48, 68-69, 75-78, 91-92, 105, 109, 140-141, 156-157, 165-168, 173-219, 222-245
dev_src/ac_cdd_core/session_manager.py                  65      4    94%   48-50, 103
dev_src/ac_cdd_core/state.py                            62      4    94%   78-79, 86-87
dev_src/ac_cdd_core/tools.py                            21     21     0%   1-48
dev_src/ac_cdd_core/utils.py                            58     28    52%   31-56, 65-78, 95-96, 116-117, 131-135
dev_src/ac_cdd_core/validators.py                       41      8    80%   56, 69, 78, 82-86
----------------------------------------------------------------------------------
TOTAL                                                 2450    876    64%
====================== 102 passed, 28 warnings in 46.40s =======================
